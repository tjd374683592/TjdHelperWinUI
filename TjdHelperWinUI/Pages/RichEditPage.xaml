<?xml version="1.0" encoding="utf-8" ?>
<Page
    x:Class="TjdHelperWinUI.Pages.RichEditPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:CommunityToolkit.WinUI.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="using:TjdHelperWinUI.Pages"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
    mc:Ignorable="d">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!--  TabbedCommandBar  -->
        <controls:TabbedCommandBar>
            <controls:TabbedCommandBar.MenuItems>

                <!--  Home Tab  -->
                <controls:TabbedCommandBarItem Header="Text Edit">

                    <!--  Undo / Redo / Paste  -->
                    <AppBarButton Command="{Binding UndoCommand}" Label="Undo">
                        <AppBarButton.Icon>
                            <FontIcon Glyph="&#xE7A7;" />
                        </AppBarButton.Icon>
                    </AppBarButton>

                    <AppBarButton Command="{Binding RedoCommand}" Label="Redo">
                        <AppBarButton.Icon>
                            <FontIcon Glyph="&#xE7A6;" />
                        </AppBarButton.Icon>
                    </AppBarButton>

                    <AppBarButton Command="{Binding PasteCommand}" Label="Paste">
                        <AppBarButton.Icon>
                            <FontIcon Glyph="&#xE77F;" />
                        </AppBarButton.Icon>
                    </AppBarButton>

                    <AppBarSeparator />

                    <!--  Font Family  -->
                    <AppBarElementContainer>
                        <ComboBox
                            x:Name="FontCombo"
                            MinWidth="175"
                            SelectedValue="{Binding SelectedFont, Mode=TwoWay}"
                            SelectedValuePath="Content">
                            <ComboBoxItem Content="Arial" />
                            <ComboBoxItem Content="Calibri" />
                            <ComboBoxItem Content="JetBrains Mono" />
                            <ComboBoxItem Content="Roboto" />
                            <ComboBoxItem Content="Segoe UI" />
                            <ComboBoxItem Content="Segoe UI Semibold" />
                        </ComboBox>
                    </AppBarElementContainer>

                    <!--  Font Size  -->
                    <AppBarElementContainer>
                        <TextBox
                            x:Name="FontSizeBox"
                            Width="50"
                            KeyDown="FontSizeBox_KeyDown"
                            Text="{Binding FontSize, Mode=TwoWay}" />
                    </AppBarElementContainer>

                    <!--  Bold / Italic / Underline  -->
                    <AppBarToggleButton
                        x:Name="BoldButton"
                        IsChecked="{Binding IsBold, Mode=TwoWay}"
                        Label="Bold">
                        <AppBarToggleButton.Icon>
                            <FontIcon Glyph="&#xE8DD;" />
                        </AppBarToggleButton.Icon>
                    </AppBarToggleButton>

                    <AppBarToggleButton
                        x:Name="ItalicButton"
                        IsChecked="{Binding IsItalic, Mode=TwoWay}"
                        Label="Italic">
                        <AppBarToggleButton.Icon>
                            <FontIcon Glyph="&#xE8DB;" />
                        </AppBarToggleButton.Icon>
                    </AppBarToggleButton>

                    <AppBarToggleButton
                        x:Name="UnderlineButton"
                        IsChecked="{Binding IsUnderline, Mode=TwoWay}"
                        Label="Underline">
                        <AppBarToggleButton.Icon>
                            <FontIcon Glyph="&#xE8DC;" />
                        </AppBarToggleButton.Icon>
                    </AppBarToggleButton>

                </controls:TabbedCommandBarItem>
            </controls:TabbedCommandBar.MenuItems>
        </controls:TabbedCommandBar>

        <!--  RichEditBox  -->
        <RichEditBox
            x:Name="Editor"
            Grid.Row="1"
            Margin="10"
            AcceptsReturn="True"
            AllowDrop="True"
            DragOver="Editor_DragOver"
            Drop="Editor_Drop"
            LostFocus="Editor_LostFocused"
            PointerWheelChanged="Editor_PointerWheelChanged"
            TextWrapping="Wrap" />
    </Grid>
</Page>
